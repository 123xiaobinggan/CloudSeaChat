{"version":3,"file":"personal_info.js","sources":["pages/personal_info/personal_info.vue","../../../H-builderx/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvcGVyc29uYWxfaW5mby9wZXJzb25hbF9pbmZvLnZ1ZQ"],"sourcesContent":["<template>\n\t<view class=\"personal-page\">\n\t\t<!-- 头部区域 -->\n\t\t<view>\n\t\t\t<image @tap=\"changeBackground\" class=\"background-image\" :src=\"user.background\" mode=\"aspectFill\" />\n\t\t</view>\n\t\t<view class=\"header\">\n\t\t\t<view class=\"top-user-info\">\n\t\t\t\t<image class=\"top-avatar\" :src=\"user.avatar\" mode=\"aspectFill\" @tap=\"previewAvatar(user.avatar)\" />\n\t\t\t\t<view class=\"text-info\">\n\t\t\t\t\t<text class=\"top-username\">{{ user.username }}</text>\n\t\t\t\t\t<text class=\"user-id\">ID: {{ user.account_id }}</text>\n\t\t\t\t\t<text class=\"description\">{{ user.description }}</text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\n\t\t<!-- 功能导航栏 -->\n\t\t<view class=\"scrollable-container\">\n\t\t\t<!-- 功能导航栏 -->\n\t\t\t<view class=\"nav-bar\">\n\t\t\t\t<view\n\t\t\t\t\tclass=\"nav-item\"\n\t\t\t\t\t:class=\"{ active1: activeTab === 'posts' }\"\n\t\t\t\t\t@tap=\"activeTab = 'posts'\"\n\t\t\t\t>\n\t\t\t\t\t<view class=\"icon-count-wrapper1\">\n\t\t\t\t\t\t<image class=\"nav-icon1\" src=\"/static/personal_info/帖子.png\" mode=\"aspectFit\" />\n\t\t\t\t\t\t<text class=\"nav-count\">{{ user.post_count }}</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\n\t\t\t\t<view\n\t\t\t\t\tclass=\"nav-item\"\n\t\t\t\t\t:class=\"{ active2: activeTab === 'visitors' }\"\n\t\t\t\t\t@tap=\"activeTab = 'visitors'\"\n\t\t\t\t>\n\t\t\t\t\t<view class=\"icon-count-wrapper2\">\n\t\t\t\t\t<image class=\"nav-icon2\" src=\"/static/personal_info/访客.png\" mode=\"aspectFit\" />\n\t\t\t\t\t<text class=\"nav-count\">{{ user.visitor_count }}</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\n\t\t\t<!-- 帖子 -->\n\t\t\t<view v-if=\"activeTab=='posts'\">\n\t\t\t\t<!-- 帖子头 -->\n\t\t\t\t<view v-for=\"(post,postIndex) in userPosts\" :key=\"postIndex\" class=\"post\">\n\t\t\t\t\t<view class=\"post-header\">\n\t\t\t\t\t\t<image :src=\"user.avatar\" class=\"avatar\" mode=\"aspectFill\" />\n\t\t\t\t\t\t<view class=\"user-info\">\n\t\t\t\t\t\t\t<text class=\"username\">{{ user.username }}</text>\n\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t<text class=\"meta\">{{ formatDate(post.create_time) }} · {{ post.ip }}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view v-show=\"(visitor.account_id === user.account_id) || visitor.admin\" class=\"post-actions\">\n\t\t\t\t\t\t\t<image src=\"/static/index/垃圾桶.png\" class=\"action-icon\" @tap=\"()=>confirmDeletePost(post)\" />\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\n\t\t\t\t<!-- 展示普通内容或是转发内容 -->\n\t\t\t\t<view class=\"post-content\">\n\t\t\t\t\t<view v-if=\"post.post_type==0\">\n\t\t\t\t\t\t<text>{{ post.content }}</text>\n\t\t\t\t\t\t<view v-if=\"post.media.length > 1\">\n\t\t\t\t\t\t\t<view\n\t\t\t\t\t\t\tv-if=\"Array.isArray(post.media) && post.media.length\"\n\t\t\t\t\t\t\t:class=\"['media-grid', 'media-count-' + post.media.length]\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<view\n\t\t\t\t\t\t\t\tv-for=\"(media, mediaIndex) in post.media\"\n\t\t\t\t\t\t\t\t:key=\"mediaIndex\"\n\t\t\t\t\t\t\t\tclass=\"media-item\"\n\t\t\t\t\t\t\t\t@tap=\"()=>previewMedia(post.media, mediaIndex)\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<image v-if=\"media.type === 'image'\" :src=\"media.url\" class=\"post-media\" mode=\"aspectFill\" />\n\t\t\t\t\t\t\t\t<video v-else-if=\"media.type === 'video'\" :src=\"media.url\" class=\"post-media\" controls />\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view v-else-if=\"post.media.length == 1\">\n\t\t\t\t\t\t\t<view class=\"one-media-item\" @tap=\"()=>previewMedia(post.media, 0)\">\n\t\t\t\t\t\t\t\t<image v-if=\"post.media[0].type === 'image'\" :src=\"post.media[0].url\" class=\"post-one-media\" mode=\"widthFix\" />\n\t\t\t\t\t\t\t\t<video v-else-if=\"post.media[0].type === 'video'\" \n\t\t\t\t\t\t\t\t:src=\"post.media[0].url\"  \n\t\t\t\t\t\t\t\t:autoplay=\"false\" \n\t\t\t\t\t\t\t\tcontrols \n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\n\t\t\t\t\t<!-- 转发 -->\n\t\t\t\t\t<view v-else>\n\t\t\t\t\t\t<!-- 当前用户的附言 -->\n\t\t\t\t\t\t<text>{{ post.content }}</text>\n\t\t\t\t\t\t<!-- 嵌套展示原帖（source_post） -->\n\t\t\t\t\t\t<view class=\"source-post-card\" @tap=\"to_source_post(post)\">\n\t\t\t\t\t\t\t<view class=\"source-header\">\n\t\t\t\t\t\t\t\t<image v-if=\"post.source_post.avatar\" :src=\"post.source_post.avatar\" class=\"avatar\" mode=\"aspectFill\" />\n\t\t\t\t\t\t\t<view class=\"user-info\">\n\t\t\t\t\t\t\t\t<text v-if=\"post.source_post.username\" class=\"username\">{{ post.source_post.username }}</text>\n\t\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t\t<text v-if=\"post.source_post.create_time\" class=\"meta\">{{ formatDate(post.source_post.create_time) }} · {{ post.source_post.ip }}</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t<view class=\"source-content\">\n\t\t\t\t\t\t\t\t<view v-if=\"post.source_post.content\" class=\"source-text\">\n\t\t\t\t\t\t\t\t\t<text>{{ post.source_post.content }}</text>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t<view v-if=\"post.source_post.media\">\n\t\t\t\t\t\t\t\t\t<view v-if=\"post.source_post.media.length > 1\">\n\t\t\t\t\t\t\t\t\t\t<view\n\t\t\t\t\t\t\t\t\t\t\tv-if=\"Array.isArray(post.source_post.media) && post.source_post.media.length\"\n\t\t\t\t\t\t\t\t\t\t\t:class=\"['media-grid', 'media-count-' + post.source_post.media.length]\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<view\n\t\t\t\t\t\t\t\t\t\t\tv-for=\"(media, mediaIndex) in post.source_post.media\"\n\t\t\t\t\t\t\t\t\t\t\t:key=\"mediaIndex\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"media-item\"\n\t\t\t\t\t\t\t\t\t\t\t@tap=\"()=>previewMedia(post.source_post.media, mediaIndex)\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<image v-if=\"media.type === 'image'\" :src=\"media.url\" class=\"post-media\" mode=\"aspectFill\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<video v-else-if=\"media.type === 'video'\" :src=\"media.url\" class=\"post-media\" controls />\n\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t<view v-else-if=\"post.source_post.media.length == 1\">\n\t\t\t\t\t\t\t\t\t\t<view class=\"one-media-item\" @tap=\"()=>previewMedia(post.source_post.media, 0)\">\n\t\t\t\t\t\t\t\t\t\t\t<image v-if=\"post.source_post.media[0].type === 'image'\" \n\t\t\t\t\t\t\t\t\t\t\t:src=\"post.source_post.media[0].url\" \n\t\t\t\t\t\t\t\t\t\t\tclass=\"post-one-media\"\n\t\t\t\t\t\t\t\t\t\t\tmode=\"widthFix\" \n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t<video v-else-if=\"post.source_post.media[0].type === 'video'\" \n\t\t\t\t\t\t\t\t\t\t\t:src=\"post.source_post.media[0].url\" \n\t\t\t\t\t\t\t\t\t\t\tcontrols \n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\n\t\t\t\t\t<!-- 设备信息 -->\n\t\t\t\t\t<view class=\"device_model\">\n\t\t\t\t\t\t<text>{{ post.device_model }}</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\n\t\t\t\t<!-- 帖子操作按钮 -->\n\t\t\t\t<view class=\"post-actions\">\n\t\t\t\t\t<view class=\"action like-action\" @tap=\"()=>like(post,post,null,null,0)\">\n\t\t\t\t\t\t<image \n\t\t\t\t\t\t:src=\"post.liked ? '/static/index/已赞.png' : '/static/index/赞.png'\" \n\t\t\t\t\t\tclass=\"action-icon\" \n\t\t\t\t\t\t:class=\"{ 'like-heart-animated': post.liked }\" \n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<text>{{ post.like_count }}</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"action\" @tap=\"()=>toggleComments(post)\">\n\t\t\t\t\t\t<image src=\"/static/index/评论.png\" class=\"action-icon\" />\n\t\t\t\t\t\t<text>{{ post.comment_count || 0 }}</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"action\" @tap=\"()=>to_post(post,1)\">\n\t\t\t\t\t\t<image src=\"/static/index/转发.png\" class=\"action-icon\" />\n\t\t\t\t\t\t<text>{{ post.forward_count || 0 }}</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<!-- 帖子评论 -->\n\t\t\t\t<view v-if=\"post.showComments\" class=\"comments\">\n\t\t\t\t\t<view v-for=\"(comment,commentIndex) in post.comments\" :key=\"commentIndex\" class=\"comment\" @longpress.stop=\"handleLongPressComment_Reply(postIndex,commentIndex,null,post,comment)\">\n\t\t\t\t\t\t<image :src=\"comment.avatar\" class=\"comment-avatar\" mode=\"aspectFill\" @tap=\"to_personal_info(comment)\" />\n\t\t\t\t\t\t<view class=\"comment-content\">\n\t\t\t\t\t\t\t<view class=\"comment-header\">\n\t\t\t\t\t\t\t\t<view class=\"comment-info\">\n\t\t\t\t\t\t\t\t\t<text class=\"comment-user\">{{ comment.username }}</text>\n\t\t\t\t\t\t\t\t\t<text class=\"comment-meta\">{{ formatDate(comment.create_time) }} · {{ comment.ip }}</text>\n\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t\t<view class=\"comment-actions\">\n\t\t\t\t\t\t\t\t\t<view class=\"like-action\" @tap.stop=\"()=>like(comment,post,comment,null,1)\">\n\t\t\t\t\t\t\t\t\t\t<image :src=\"comment.liked ? '/static/index/已赞.png' : '/static/index/赞.png'\" class=\"action-icon\" />\n\t\t\t\t\t\t\t\t\t\t<text>{{ comment.like_count }}</text>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<text class=\"comment-text\">{{ comment.content }}</text>\n\n\t\t\t\t\t\t\t<view class=\"reply-action\" @tap.stop=\"()=>toggleReplyInput(comment)\">\n\t\t\t\t\t\t\t\t<text style=\"color:grey \">回复</text>\n\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t<!-- 回复comment-->\n\t\t\t\t\t\t\t<view v-if=\"comment.showReplyInput\" class=\"reply-input-wrapper\">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tv-model=\"newReply\"\n\t\t\t\t\t\t\t\t\tclass=\"reply-input\"\n\t\t\t\t\t\t\t\t\t:placeholder=\"'回复'+ comment.username + '...' \"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<button class=\"reply-button\" @tap=\"()=>submitComment(post,comment,null,1,newReply)\">回复</button>\n\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t<!-- 展示回复 -->\n\t\t\t\t\t\t\t<view v-if=\"comment.replies.length && !comment.showReply\"  class=\"showReply\" @tap.stop=\"comment.showReply = true\">\n\t\t\t\t\t\t\t\t<text>{{ comment.replies.length }}条回复</text>  \n\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t<!-- 回复列表 -->\n\t\t\t\t\t\t\t<view v-if=\"comment.showReply\">\n\t\t\t\t\t\t\t\t<view v-for=\"(reply,replyIndex) in comment.replies\" :key=\"reply._id\" class=\"reply\" @longpress.stop=\"handleLongPressComment_Reply(postIndex,commentIndex,replyIndex,comment,reply)\">\n\t\t\t\t\t\t\t\t\t<image :src=\"reply.avatar\" class=\"reply-avatar\" mode=\"aspectFill\" @tap=\"to_personal_info(reply)\" />  \n\t\t\t\t\t\t\t\t\t<view class=\"reply-content\">\n\t\t\t\t\t\t\t\t\t\t<view class=\"reply-header\">\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"reply-info\">\n\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"reply-user\">{{ reply.username }}</text>\n\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"reply-meta\">{{ formatDate(reply.create_time) }} · {{ reply.ip }}</text>\n\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"reply-action\">\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"reply-like-action\" @tap.stop=\"()=>like(reply,post,comment,reply,2)\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<image :src=\"reply.liked ? '/static/index/已赞.png' : '/static/index/赞.png'\" class=\"action-icon\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t<text>{{ reply.like_count }}</text>\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t\t\t\t<!-- 评论内容 -->\n\t\t\t\t\t\t\t\t\t\t<text class=\"reply-text\">\n\t\t\t\t\t\t\t\t\t\t\t<text v-if=\"reply.reply_username\">\n\t\t\t\t\t\t\t\t\t\t\t回复\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"relpy_username\">{{ reply.reply_username }}: </text>\n\t\t\t\t\t\t\t\t\t\t\t</text>\n\t\t\t\t\t\t\t\t\t\t\t{{ reply.content }}\n\t\t\t\t\t\t\t\t\t\t</text>\n\n\t\t\t\t\t\t\t\t\t\t<!--回复按钮-->\n\t\t\t\t\t\t\t\t\t\t<view class=\"reply-action\" @tap.stop=\"()=>toggleReplyInput(reply)\">\n\t\t\t\t\t\t\t\t\t\t\t<text>回复</text>\n\t\t\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t\t\t\t<!-- 回复输入框 --><!-- 回复reply -->\n\t\t\t\t\t\t\t\t\t\t<view v-if=\"reply.showReplyInput\" class=\"reply-input-wrapper\">\n\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\tv-model=\"newReplyReply\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"reply-input\"\n\t\t\t\t\t\t\t\t\t\t\t:placeholder=\" '回复' + reply.username + '...' \"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t<button class=\"reply-button\" @tap=\"()=>submitComment(post,comment,reply,2,newReplyReply)\">回复</button>\n\t\t\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\n\t\t\t\t\t<!--评论输入框--><!-- 回复post -->\n\t\t\t\t\t<view class=\"comment-input-wrapper\" @tap.stop>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tv-model=\"newComment\"\n\t\t\t\t\t\t\tclass=\"comment-input\"\n\t\t\t\t\t\t\tplaceholder=\"发表评论...\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<button class=\"reply-button\" @tap=\"()=>submitComment(post,null,null,0,newComment)\">回复</button>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\n\t\t\t<!-- 访客 -->\n\t\t\t<view v-else-if=\"activeTab=='visitors'\">\n\t\t\t\t<view v-for=\"(group, index) in userVisitors\" :key=\"index\" class=\"date-group\">\n\t\t\t\t\t<!-- 日期栏 -->\n\t\t\t\t\t<view class=\"date-header\">\n\t\t\t\t\t\t<text class=\"date-text\">{{ group.date }}</text>\n\t\t\t\t\t</view>\n\n\t\t\t\t\t\t<!-- 某日的所有访客 -->\n\t\t\t\t\t<view v-for=\"(visitor, vIndex) in group.visitors\" :key=\"vIndex\" class=\"visitor-card\">\n\t\t\t\t\t\t<image class=\"avatar\" :src=\"visitor.avatar\" mode=\"aspectFill\" />\n\t\t\t\t\t\t<view class=\"visitor-info\">\n\t\t\t\t\t\t\t<text class=\"username\">{{ visitor.username }}</text>\n\t\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t\t<text class=\"meta\">{{ formatDate(visitor.create_time) }} · {{ visitor.ip }}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\n\t\t\t<!-- 加载中状态 -->\n\t\t\t<view class=\"loading-box\" v-if=\"loading && !loaded\">\n\t\t\t\t<view class=\"spinner\"></view>\n\t\t\t\t<text class=\"loading-text\">加载中...</text>\n\t\t\t</view>\n\n\t\t\t<!-- 加载完成 -->\n\t\t\t<view class=\"loaded-box\" v-if=\"loaded && !loading\">\n\t\t\t\t<text class=\"loaded-text\">加载完成</text>\n\t\t\t</view>\n\n\t\t\t<view v-if=\"userPosts.length==0 && activeTab=='posts'\" class=\"reminder\">\n\t\t\t\t<text v-if=\"user.account_id==visitor.account_id\">空空如也，去发一条帖子吧！</text>\t\n\t\t\t\t<text v-else>啊欧，你打开了寂寞的百宝箱！</text>\n\t\t\t</view>\n\n\t\t\t<view v-else-if=\"userVisitors.length==0 && activeTab=='visitors'\" class=\"reminder\">\n\t\t\t\t<text>门可罗雀，没有访客哦！</text>\n\t\t\t</view>\n\n\t\t</view>\n\n\t\t<view \tclass=\"back-to-top\"\n\t\t\t\t:class=\"{ 'show': showBackToTop, 'hide': !showBackToTop }\"\n\t\t\t\t@tap=\"scrollToTop\"\n\t\t>\n\t\t<image\n\t\t\tclass=\"arrow-icon\"\n\t\t\tsrc=\"/static/personal_info/arrow-up.png\"\n\t\t\tmode=\"aspectFit\"\n\t\t\t:class=\"{ 'spin': showBackToTop }\"\n\t\t/>\n\t\t</view>\n\n  \t</view>\n</template>\n\n<script>\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tuser:{\n\t\t\t\t\taccount_id: null,\n\t\t\t\t\tusername: '未登录',\n\t\t\t\t\tdescription: '这个人很懒，什么都没有留下',\n\t\t\t\t\tavatar: '/static/info/未登录.png',\n\t\t\t\t\tbackground: '',\n\t\t\t\t\tpost_count: 0,\n\t\t\t\t\tvisitor_count: 0,\n\t\t\t\t\tlevel: 0,\n\t\t\t\t\tactivity: 0,\n\t\t\t\t\tcoupon: 0,\n\t\t\t\t\tpoints: 0,\n\t\t\t\t\tbalance: 0,\n\t\t\t\t\tadmin: false // 是否为管理员\n\t\t\t\t},\n\t\t\t\tvisitor:{\n\t\t\t\t\taccount_id: null,\n\t\t\t\t\tadmin: false,\n\t\t\t\t\tip: '未知',\n\t\t\t\t},\n\t\t\t\tactiveTab: 'posts',\n\t\t\t\tuserPosts: [],\n\t\t\t\tuserVisitors: [\n\t\t\t\t\t\n\t\t\t\t],\n\t\t\t\tloading: false,\n\t\t\t\tloaded: false,\n\t\t\t\tnewComment: '',\n      \t\t\tnewReply: '',\n      \t\t\tnewReplyReply: '',\n\t\t\t\treplyPlaceholder: '发表评论...', // 回复框的占位符\n      \t\t\tlast_showInput: null, // 记录上一个显示的输入框\n\t\t\t\tshowBackToTop: false,\n\t\t\t\trotating: false,\n\t\t\t\tnavBarTop: 0,\n\t\t\t\tlastScrollTop: 0,\n\t\t\t\tshowBackToTop: false,\n\t\t\t\tnewBackground: '',\n\t\t\t\ttoken: '',\n\t\t\t}\n\t\t},\n\t\twatch:{\n\t\t\tactiveTab(newVal,oldVal){\n\t\t\t\tif(newVal == 'visitors' && this.userVisitors.length == 0){\n\t\t\t\t\tconsole.log('fetchUserVisitors')\n\t\t\t\t\tthis.fetchUserVisitors()\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tasync onLoad(option) {\n\t\t\tthis.user.account_id = option.account_id;\n\t\t\tthis.visitor.account_id= option.visitor_account_id;\n\t\t\tthis.visitor.admin= option.visitor_admin==true || option.visitor_admin=='true';\n\t\t\tconsole.log('visitor',this.visitor)\n\t\t\tawait this.fetchUserInfo();\n\t\t\t// console.log('user',this.user.account_id)\n\t\t\tif(this.user.account_id){\n\t\t\t\tthis.fetchUserPosts();\n\t\t\t}\n\t\t\tif( (option.account_id !== option.visitor_account_id) &&  option.visitor_account_id){\n\t\t\t\tthis.updateVisitor(option.account_id,option.visitor_account_id);\n\t\t\t}\n\t\t},\n\t\tonUnload(){\n\t\t\tif(this.token){\n\t\t\t\tPubSub.unsubscribe(this.token);\n\t\t\t\tthis.token = ''\n\t\t\t}\n\t\t},\n\t\tonReachBottom() {\n\t\t\tif (this.activeTab === 'posts' && !this.loading) {\n\t\t\t\tthis.loading = true;\n\t\t\t\tthis.loaded = false;\n\t\t\t\tthis.fetchUserPosts().then(() => {\n\t\t\t\t\tthis.loading = false;\n\t\t\t\t\tthis.loaded = true;\n\t\t\t\t});\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.loaded = false;\n\t\t\t\t}, 1000);\n\t\t\t}\n\t\t\telse if (this.activeTab === 'visitors' &&!this.loading) {\n\t\t\t\tthis.loading = true;\n\t\t\t\tthis.loaded = false;\n\t\t\t\tthis.fetchUserVisitors().then(() => {\n\t\t\t\t\tthis.loading = false;\n\t\t\t\t\tthis.loaded = true;\n\t\t\t\t});\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.loaded = false;\n\t\t\t\t}, 1000);\n\t\t\t}\t\n\t\t},\n\t\tonPageScroll(e) {\n\t\t\t// 向上滚动才触发\n\t\t\tif(this.lastScrollTop >= e.scrollTop) {\n\t\t\t\tif(e.scrollTop >= 220){\n\t\t\t\t\tthis.showBackToTop = true;\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthis.showBackToTop = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse{\n\t\t\t\tthis.showBackToTop = false;\n\t\t\t}\n\t\t\tthis.lastScrollTop = e.scrollTop;\n\t\t},\n\t\tmethods: {\n\t\t\t//获取用户信息\n\t\t\tasync fetchUserInfo() {\n\t\t\t\ttry{\n\t\t\t\t\tconst res = await uniCloud.callFunction({\n\t\t\t\t\t\tname: 'get_target_userInfo',\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\taccount_id: this.user.account_id,\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\tif(res.result.code === 200){\n\t\t\t\t\t\tconsole.log('获取用户信息成功', res.result.data)\n\t\t\t\t\t\tthis.user = res.result.data;\n\t\t\t\t\t\tconsole.log('user',this.user)\n\t\t\t\t\t}\n\t\t\t\t}catch(err){\n\t\t\t\t\tconsole.error('获取用户信息失败', err);\n\t\t\t\t}\n\t\t\t},\n\t\t\t//获取用户帖子\n\t\t\tasync fetchUserPosts() {\n\t\t\t\ttry{\n\t\t\t\t\tconst res = await uniCloud.callFunction({\n\t\t\t\t\t\tname: 'get_user_posts',\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\taccount_id: this.user.account_id,\n\t\t\t\t\t\t\tpage_size: 5,\n\t\t\t\t\t\t\tcreate_time: this.userPosts.length > 0 ? this.userPosts[this.userPosts.length - 1].create_time : null,\n\t\t\t\t\t\t\tvisitor_account_id: this.visitor.account_id\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\tif(res.result.code === 200){\n\t\t\t\t\t\tconsole.log('获取用户帖子成功', res.result.data)\n\t\t\t\t\t\tthis.userPosts = this.userPosts.concat(res.result.data);\n\t\t\t\t\t}\n\t\t\t\t}catch(err){\n\t\t\t\t\tconsole.error('获取用户帖子失败', err);\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '获取帖子失败',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t},\n\t\t\t//获取用户访客\n\t\t\tasync fetchUserVisitors() {\n\t\t\t\ttry{\n\t\t\t\t\tconst res = await uniCloud.callFunction({\n\t\t\t\t\t\tname: 'get_user_visitors',\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\taccount_id: this.user.account_id,\n\t\t\t\t\t\t\tday_count: 7,\n\t\t\t\t\t\t\tcreate_date: this.userVisitors.length > 0? this.userVisitors[this.userVisitors.length - 1].date : null\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\tif(res.result.code === 200){\n\t\t\t\t\t\tconsole.log('获取用户访客成功', res.result.data)\n\t\t\t\t\t\tthis.userVisitors = this.userVisitors.concat(res.result.data);\n\t\t\t\t\t}\n\t\t\t\t}catch(err){\n\t\t\t\t\tconsole.error('获取用户访客失败', err);\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '获取访客失败',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t},\n\t\t\t//获取评论\n\t\t\tasync fetchComments(post) {\n\t\t\t// console.log('post.comment_count',post.comment_count)\n\t\t\t\ttry{\n\t\t\t\t\tconst res = await uniCloud.callFunction({\n\t\t\t\t\t\tname: 'get_comments',\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\tpost_id: post._id // 传递帖子 ID\n\t\t\t\t\t\t} \n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tif(res.result.msg == \"success\"){\n\t\t\t\t\t\tpost.comments = res.result.data; // 更新评论列表 \n\t\t\t\t\t\tpost.comment_count = post.comments.length; // 更新评论数量\n\t\t\t\t\t\tif(this.user.account_id){//如果用户已登录，获取用户点赞状态\n\t\t\t\t\t\t\tconst db = uniCloud.database();\n\t\t\t\t\t\t\tconst likeRes = await db.collection('user-liked').where({\n\t\t\t\t\t\t\t\taccount_id: this.user.account_id,\n\t\t\t\t\t\t\t\ttarget_id: db.command.in(post.comments.map(item => item._id)),\n\t\t\t\t\t\t\t\tliked: true \n\t\t\t\t\t\t\t}).get();\n\t\t\t\t\t\t\tconst likedCommentIds = likeRes.result.data.map(item => item.target_id);\n\t\t\t\t\t\t\tlet replies = [];\n\t\t\t\t\t\t\tfor (const comment of post.comments) {\n\t\t\t\t\t\t\t\tcomment.liked = likedCommentIds.includes(comment._id);\n\t\t\t\t\t\t\t\treplies = replies.concat(comment.replies);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(replies.length>0){\n\t\t\t\t\t\t\t\tconst likeRes = await db.collection('user-liked').where({\n\t\t\t\t\t\t\t\t\taccount_id: this.user.account_id,\n\t\t\t\t\t\t\t\t\ttarget_id: db.command.in(replies.map(item => item._id)),\n\t\t\t\t\t\t\t\t\tliked: true\n\t\t\t\t\t\t\t\t}).get();\n\t\t\t\t\t\t\t\tconst likedReplyIds = likeRes.result.data.map(item => item.target_id);\n\t\t\t\t\t\t\t\tpost.comments.forEach(comment => {\n\t\t\t\t\t\t\t\t\tcomment.replies.forEach(reply => {\n\t\t\t\t\t\t\t\t\treply.liked = likedReplyIds.includes(reply._id);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}catch (error) {\n\t\t\t\t\tconsole.error('获取评论失败:', error);\n\t\t\t\t}\n\t\t\t},\n\t\t\t//更新用户访客\n\t\t\tasync updateVisitor(account_id,visitor_account_id){\n\t\t\t\t//获取访问者ip地址\n\t\t\t\tawait this.getUserLocation();\n\t\t\t\tawait this.resolve_ip();\n\t\t\t\tconst res = await uniCloud.callFunction({\n\t\t\t\t\tname: 'update_visitor',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\taccount_id: account_id,\n\t\t\t\t\t\tvisitor_account_id: visitor_account_id,\n\t\t\t\t\t\tvisitor_ip: this.visitor.ip\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\tthis.user.visitor_count += res.result.data;\n\t\t\t\tconsole.log('update_visitor',res)\n\t\t\t},   \n\t\t\t//获取用户ip地址\n\t\t\tasync getUserLocation() {\n\t\t\t\ttry {\n\t\t\t\t\tconst res = await uniCloud.callFunction({\n\t\t\t\t\t\tname: 'get_ip',\n\t\t\t\t\t\tdata: {}\n\t\t\t\t\t})\n\t\t\t\t\tif(res.result.code === 200){\n\t\t\t\t\tthis.visitor.ip = res.result.data; // 设置用户的 IP 地址\n\t\t\t\t\t}\n\t\t\t\t}catch(e){\n\t\t\t\t\tconsole.error('获取位置失败', e);\n\t\t\t\t}\n\t\t\t},\n\t\t\t//解析ip地址\n\t\t\tasync resolve_ip(){\n\t\t\t\tconst host = \"https://ipcity.market.alicloudapi.com\";  // 请求地址 支持http 和 https 及 WEBSOCKET\n\t\t\t\tconst path = \"/ip/city/query\";   // 后缀\n\t\t\t\tconst appCode = \"1dc84a4fe7fc40238d1a17ad665c59d3\"; \n\t\t\t\t// 构建查询参数\n\t\t\t\tconst querys = `ip=${encodeURIComponent(this.visitor.ip)}&coordsys=WGS84`;\n\t\t\t\tconst urlSend = `${host}${path}?${querys}`;   // 拼接完整请求链接\n\t\t\t\t\ttry {\n\t\t\t\t\tconst res = await uni.request({\n\t\t\t\t\t\t\t\turl: urlSend,\n\t\t\t\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\t\t\t\theader: {\n\t\t\t\t\t\t\t\t\t\"Authorization\": `APPCODE ${appCode}`\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\tif (res.statusCode === 200) {\n\t\t\t\t\tif(res.data.code == 200){\n\t\t\t\t\t\tlet city;\n\t\t\t\t\t\tif(res.data.data.result.city){\n\t\t\t\t\t\tcity=res.data.data.result.city;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if(res.data.data.result.prov){\n\t\t\t\t\t\tcity=res.data.data.result.province;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if(res.data.data.result.country){\n\t\t\t\t\t\tcity=res.data.data.result.country;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if(res.data.data.result.continuent){\n\t\t\t\t\t\tcity=res.data.data.result.continent;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(city.endsWith('市')){\n\t\t\t\t\t\tcity=city.slice(0,-1)\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if(city.endsWith('省')){\n\t\t\t\t\t\tcity=city.slice(0,-1)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.visitor.ip = city; // 设置用户的 IP 地址\n\t\t\t\t\t\tconsole.log('获取到的IP地址',this.visitor.ip)\n\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} catch (err) {\n\t\t\t\t\tconsole.error('resolve_ip 请求失败:', err);\n\t\t\t\t}\n\t\t\t},\n\t\t\t// 预览媒体\n\t\t\tpreviewMedia(media, currentIndex) {\n\t\t\t\tuni.previewMedia({\n\t\t\t\t\tsources: media.map(item => ({\n\t\t\t\t\t\turl: item.url,\n\t\t\t\t\t\ttype: item.type\n\t\t\t\t\t})),\n\t\t\t\t\tcurrent: currentIndex, // 当前预览的媒体索引\n\t\t\t\t});\n\t\t\t},\n\t\t\t// 预览头像\n\t\t\tpreviewAvatar(avatar){\n\t\t\t\tuni.previewImage({\n\t\t\t\t\tcurrent: avatar, // 当前预览的媒体索引\n\t\t\t\t\turls: [avatar],\n\t\t\t\t});\n\t\t\t},\n\t\t\t// 确认删除帖子\n\t\t\tconfirmDeletePost(post) {\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle: '确认删除',\n\t\t\t\t\tcontent: '确定要删除这条帖子吗？',\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\tthis.deletePost(post); // 调用删除函数\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\t//删除帖子\n\t\t\tasync deletePost(post) {\n\t\t\t\ttry {\n\t\t\t\t\tconst res = await uniCloud.callFunction({\n\t\t\t\t\t\tname: 'delete_post',\n\t\t\t\t\t\tdata: { post_id: post._id }\n\t\t\t\t\t});\n\t\t\t\t\tif (res.result.code === 200) {\n\t\t\t\t\t\tuni.showToast({ title: '删除成功', icon: 'success' });\n\t\t\t\t\t\tthis.posts = this.posts.filter(p => p._id !== post._id); // 从列表中移除已删除的帖子\n\t\t\t\t\t} else {\n\t\t\t\t\tuni.showToast({ title: '删除失败', icon: 'none' });\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error('删除失败:', error);\n\t\t\t\t\tuni.showToast({ title: '网络错误', icon: 'none' });\n\t\t\t\t}\n\t\t\t},\n\t\t\t//点赞\n\t\t\tasync like(item, post, comment, reply, type) {\n\t\t\t\tif (!this.visitor.account_id) {\n\t\t\t\t\tuni.showToast({ title: '请登录', icon: 'none' });\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\titem.liked = !item.liked; // 切换点赞状态\n\t\t\t\titem.like_count += item.liked ? 1 : -1;\n\t\t\t\ttry {\n\t\t\t\t\tconst res = await uniCloud.callFunction({\n\t\t\t\t\tname: 'user-liked',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\ttarget_id: item._id,\n\t\t\t\t\t\tpost: post,\n\t\t\t\t\t\tcomment: comment,\n\t\t\t\t\t\treply: reply,\n\t\t\t\t\t\taccount_id: this.visitor.account_id,\n\t\t\t\t\t\ttype: type\n\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tif(res.result.msg === \"请登录\")\n\t\t\t\t\t{\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '请登录',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\telse if(res.result.msg != \"success\") {\n\t\t\t\t\t\titem.liked = !item.liked; // 还原点赞状态\n\t\t\t\t\t\titem.like_count -= item.liked ? -1 : 1;\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: res.result.message || '操作失败',\n\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\telse if(res.result.first){\n\t\t\t\t\t\tPubSub.publish('update_activity',5);\n\t\t\t\t\t}\n\t\t\t\t} catch (err) {\n\t\t\t\t\tconsole.error('点赞失败:', err);\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '网络错误',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\t//展示评论\n\t\t\ttoggleComments(selectedPost) {\n\t\t\t\tthis.userPosts.forEach(post => {\n\t\t\t\t\tif (post._id === selectedPost._id) {\n\t\t\t\t\tpost.showComments = !post.showComments; // 切换当前帖子的评论显示状态\n\t\t\t\t\t} else {\n\t\t\t\t\tpost.showComments = false; // 收起其他帖子的评论\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tif(!selectedPost.comments){\n\t\t\t\t\tthis.fetchComments(selectedPost); // 获取当前帖子的评论\n\t\t\t\t}\n\t\t\t},\n\t\t\t// 提交评论或回复\n\t\t\tasync submitComment(post,comment,reply,type,content) {\n\t\t\t\tif ((!this.newComment.trim() && type==0) || (!this.newReply.trim() && type==1) || (!this.newReplyReply.trim() && type==2)) {\n\t\t\t\t\tuni.showToast({ title: '评论不能为空', icon: 'none' });\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif(!this.visitor.account_id){\n\t\t\t\t\tuni.showToast({ title: '请登录', icon: 'none' });\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tlet showding = true;\n\t\t\t\tif(showding){\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '提交中...',\n\t\t\t\t\t\ticon: 'loading'\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\ttry {\n\t\t\t\t\tconst res = await uniCloud.callFunction({\n\t\t\t\t\t\tname: 'submit_comment',\n\t\t\t\t\t\tdata:{\n\t\t\t\t\t\t\tuser:this.visitor,\n\t\t\t\t\t\t\tpost: post,\n\t\t\t\t\t\t\tcomment: comment,\n\t\t\t\t\t\t\treply:reply,\n\t\t\t\t\t\t\ttype: type,\n\t\t\t\t\t\t\tcontent: content,\n\t\t\t\t\t\t} \n\t\t\t\t\t});\n\t\t\t\t\t\t\n\t\t\t\t\tif(res.result.msg == \"success\"){\n\t\t\t\t\t\tif(type==0){\n\t\t\t\t\t\t\tpost.comment_count += 1; // 更新评论数量\n\t\t\t\t\t\t\tpost.comments.unshift(res.result.data);\n\t\t\t\t\t\t\tthis.newComment = ''; // 清空输入框\n\t\t\t\t\t\t} \n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tcomment.replies.unshift(res.result.data);\n\t\t\t\t\t\t\tif(reply){\n\t\t\t\t\t\t\t\tthis.newReplyReply = '',\n\t\t\t\t\t\t\t\treply.showReplyInput=false; // 清空输入框\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\tthis.newReply = '',\n\t\t\t\t\t\t\t\tcomment.showReplyInput=false; // 清空输入框\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tshowding = false;\n\t\t\t\t\t\tuni.showToast({ title: '评论成功', icon: 'success' });\n\t\t\t\t\t} \n\t\t\t\t}catch (error) {\n\t\t\t\t\tuni.showToast({ title: '评论失败', icon: 'none' }); \n\t\t\t\t}\n\t\t\t},\n\t\t\t// 长按评论或回复处理\n\t\t\thandleLongPressComment_Reply(postIndex,commentIndex,replyIndex,parent,item){\n\t\t\t\tif(item.account_id && item.account_id !== this.visitor.account_id && !this.visitor.admin) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tuni.showActionSheet({\n\t\t\t\t\titemList: ['删除'],\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t// 点击了“删除”\n\t\t\t\t\tif (res.tapIndex === 0) {\n\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\ttitle: '确认删除',\n\t\t\t\t\t\t\tcontent: '确定要删除这条评论吗？',\n\t\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\t\t\tthis.deleteComment_Reply(postIndex,commentIndex,replyIndex,parent, item); // 删除操作\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\t// 删除评论或回复\n\t\t\tasync deleteComment_Reply(postIndex,commentIndex,replyIndex,parent,item) {\n\t\t\t\tlet loading = true;\n\t\t\t\tif(loading){\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '删除中...',\n\t\t\t\t\t\ticon: 'loading'\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\ttry {\n\t\t\t\t\tconst res = await uniCloud.callFunction({\n\t\t\t\t\t\tname: 'delete_comment_reply',\n\t\t\t\t\t\tdata: { \n\t\t\t\t\t\t\tparent: parent,\n\t\t\t\t\t\t\titem: item\n\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tloading = false;\n\t\t\t\t\t\tif (res.result.code === 200) {\n\t\t\t\t\t\t\tuni.showToast({ title: '删除成功', icon:'success' }); \n\t\t\t\t\t\t\tif(!('post_id' in item)) {//item是reply\n\t\t\t\t\t\t\t\tconsole.log('replies',res.result.data.replies)\n\t\t\t\t\t\t\t\tthis.$set(this.userPosts[postIndex].comments[commentIndex],'replies',res.result.data.replies);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse{//item是comment\n\t\t\t\t\t\t\t\t// console.log('replies',res.result)\n\t\t\t\t\t\t\t\t// console.log('postIndex',postIndex,commentIndex,this.posts[postIndex])\n\t\t\t\t\t\t\t\tthis.userPosts[postIndex].comments.splice(commentIndex, 1); // 从评论列表中移除已删除的评论\n\t\t\t\t\t\t\t\tthis.userPosts[postIndex].comment_count -= 1; // 更新评论数量\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t}catch (error) {\n\t\t\t\t\tconsole.error('删除失败:', error);\n\t\t\t\t\tuni.showToast({ title: '网络错误', icon: 'none' });\n\t\t\t\t}\n\t\t\t},\n\t\t\t//时间格式化函数\n\t\t\tformatDate(create_time) {\n\t\t\t\tcreate_time= new Date(create_time);\n\t\t\t\tconst pad = n => n.toString().padStart(2, '0');\n\t\t\t\tconst year = create_time.getFullYear();\n\t\t\t\tconst month = pad(create_time.getMonth() + 1);\n\t\t\t\tconst day = pad(create_time.getDate());\n\t\t\t\tconst hours = pad(create_time.getHours());\n\t\t\t\tconst minutes = pad(create_time.getMinutes());\n\t\t\t\treturn `${year}-${month}-${day} ${hours}:${minutes}`;\n\t\t\t},\n\t\t\t// 切换回复输入框的显示状态\n\t\t\ttoggleReplyInput(item) {\n\t\t\t\tthis.$set(item, 'showReplyInput', !item.showReplyInput);\n\t\t\t\tif(this.last_showInput && this.last_showInput !== item) {\n\t\t\t\t\tthis.last_showInput.showReplyInput = false; // 隐藏上一个输入框\n\t\t\t\t}\n\t\t\t\tthis.last_showInput = item; // 更新上一个输入框\n\t\t\t},\n\t\t\t// 滚动到顶部\n\t\t\tscrollToTop() {\n\t\t\t\t// 启动旋转动画\n\t\t\t\tthis.rotating = true;\n\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.rotating = false;\n\t\t\t\t}, 500); // 动画持续时间应与 CSS 一致\n\n\t\t\t\t// 平滑滚动\n\t\t\t\tuni.pageScrollTo({\n\t\t\t\t\tscrollTop: 0,\n\t\t\t\t\tduration: 300\n\t\t\t\t});\n\t\t\t},\n\t\t\tchangeBackground(){\n\t\t\t\tif(this.user.account_id!== this.visitor.account_id) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tuni.showActionSheet({\n\t\t\t\t\titemList: ['更换背景'],\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t// 点击了“更换背景”\n\t\t\t\t\t\tif (res.tapIndex === 0) {\n\t\t\t\t\t\t\tuni.chooseImage({\n\t\t\t\t\t\t\t\tcount: 1,\n\t\t\t\t\t\t\t\tsizeType: ['compressed'],\n\t\t\t\t\t\t\t\tsourceType: ['album', 'camera'],\n\t\t\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\t\t\tthis.newBackground = res.tempFilePaths[0];\n\t\t\t\t\t\t\t\t\tthis.update_background();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tasync update_background(){\n\t\t\t\tconst ext = this.user.background.split('.').pop().toLowerCase();\n\t\t\t\tconst cloudPath = `Personal_background/${this.user.account_id}-${this.user.username}-${new Date().toISOString()}.${ext}`;\n\t\t\t\ttry{\n\t\t\t\t\tconst uploadRes = await uniCloud.uploadFile({\n\t\t\t\t\t\tfilePath: this.newBackground,\n\t\t\t\t\t\tcloudPath,\n\t\t\t\t\t\tfileType: ext,\n\t\t\t\t\t\tcloudPathAsRealPath:true,\n\t\t\t\t\t\tonUploadProgress: (progress) => {\n\t\t\t\t\t\t// 显示上传进度\n\t\t\t\t\t\t\tvar percentage = Math.round(progress.loaded * 100)/progress.total;\n\t\t\t\t\t\t\tuni.showLoading({ title: `上传中...${percentage}%` });\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\tconsole.log('uploadRes',uploadRes)\n\t\t\t\t\tthis.newBackground = uploadRes.fileID;\n\t\t\t\t\tconst res = await uniCloud.callFunction({\n\t\t\t\t\t\tname: 'update_background',\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\toldBackground: this.user.background,\n\t\t\t\t\t\t\tnewBackground: this.newBackground,\n\t\t\t\t\t\t\taccount_id: this.user.account_id\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\tconsole.log('update_background',res)\n\t\t\t\t\tif(res.result.code === 200){\n\t\t\t\t\t\tthis.user.background = this.newBackground;\n\t\t\t\t\t\tuni.showToast({ title: '更换成功', icon:'success' });\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tthis.user.background = 'https://mp-ad47c7bd-10fe-4cc5-9ad0-a7ff552214bc.cdn.bspapp.com/Personal_background/sunset.jpg';\n\t\t\t\t\t\tuni.showToast({ title: '更换失败', icon: 'none' });\n\t\t\t\t\t}\n\t\t\t\t}catch(e){\n\t\t\t\t\tuni.showToast({ title: '图片上传失败', icon: 'none' });\n\t\t\t\t\tconsole.log('图片上传失败',e)\n\t\t\t\t}\n\t\t\t\t\n\t\t\t},\n\t\t\t//转到原帖页\n\t\t\tto_source_post(post){\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: `/pages/source_post/source_post?post_id=${post.source_post.post_id}&account_id=${this.user.account_id}&admin=${this.user.admin}&username=${this.user.username}&avatar=${this.user.avatar}`,\n\t\t\t\t});\n\t\t\t},\n\t\t\t//转到个人信息页\n\t\t\tto_personal_info(item){\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: `/pages/personal_info/personal_info?account_id=${item.account_id}&visitor_account_id=${this.user.account_id}&visitor_admin=${this.user.admin}`,\n\t\t\t\t});\n\t\t\t},\n\t\t}\n\t}\n</script>\n\n<style>\n@import url(personal_info.css);\n</style>","import MiniProgramPage from 'D:/CODE/vue/canteen_program/pages/personal_info/personal_info.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni","uniCloud","likeRes","res"],"mappings":"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"}