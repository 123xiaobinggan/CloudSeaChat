{"version":3,"file":"post.js","sources":["pages/post/post.vue","../../../H-builderx/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvcG9zdC9wb3N0LnZ1ZQ"],"sourcesContent":["<template>\r\n    <view class=\"post-page\">\r\n      <!-- 顶部栏 -->\r\n      <view class=\"nav-bar\">\r\n        <text class=\"title\">创作</text>\r\n        <button class=\"publish-btn\" size=\"mini\" @tap=\"submitPost()\">发表</button>\r\n      </view>\r\n  \r\n      <!-- 内容输入框 -->\r\n      <view class=\"content-card\">\r\n        <textarea\r\n          v-model=\"content\"\r\n          class=\"content-input\"\r\n          :placeholder=\"'分享新鲜事...'\"\r\n          maxlength=\"500\"\r\n        />\r\n        <!-- 媒体区域 -->\r\n        <view v-if=\"type === 0\">\r\n          <view class=\"media-grid\">\r\n            <view\r\n              v-for=\"(media, index) in mediaFiles\"\r\n              :key=\"index\"\r\n              class=\"media-item\"\r\n              @tap=\"()=>previewMedia(mediaFiles,index)\"\r\n            >\r\n              <image v-if=\"media.type === 'image'\" :src=\"media.url\" class=\"post-media\" mode=\"aspectFill\" />\r\n              <video v-else-if=\"media.type === 'video'\" :src=\"media.url\" class=\"post-media\" controls />\r\n              <!-- 删除按钮 -->\r\n              <view class=\"delete-btn\" @tap.stop=\"()=>removeMedia(index)\">×</view>\r\n            </view>\r\n            <!-- 添加媒体按钮 -->\r\n            <view\r\n              v-if=\"mediaFiles.length < 9\"\r\n              class=\"media-item add-media\"\r\n              @tap=\"showMediaPicker\"\r\n            >\r\n              <image src=\"/static/post/add_media.png\" class=\"add-icon\" />\r\n              <text>图片/视频</text>\r\n            </view>\r\n          </view>\r\n        </view>\r\n        <!--如果是转发-->\r\n        <view v-else>\r\n          <view class=\"source-post-card\">\r\n            <view class=\"source-header\">\r\n              <image :src=\"source_post.avatar\" class=\"avatar\" mode=\"aspectFill\" />\r\n              <view class=\"user-info\">\r\n                <text class=\"username\">{{ source_post.username }}</text>\r\n                <br/>\r\n                <text class=\"meta\">{{ formatDate(source_post.create_time) }} · {{ source_post.ip }}</text>\r\n              </view>\r\n            </view>\r\n            <view class=\"source-content\">\r\n              <view class=\"source-text\">\r\n                <text>{{ source_post.content }}</text>\r\n              </view>\r\n              <view\r\n                v-if=\"Array.isArray(source_post.media) && source_post.media.length\"\r\n                :class=\"['media-grid', 'media-count-' + source_post.media.length]\"\r\n              >\r\n                <view\r\n                  v-for=\"(media, mediaIndex) in source_post.media\"\r\n                  :key=\"mediaIndex\"\r\n                  class=\"media-item\"\r\n                  @tap=\"()=>previewMedia(source_post.media,mediaIndex)\"\r\n                >\r\n                  <image v-if=\"media.type === 'image'\" :src=\"media.url\" class=\"post-media\" mode=\"aspectFill\" />\r\n                  <video v-else-if=\"media.type === 'video'\" :src=\"media.url\" class=\"post-media\" controls />\r\n                </view>\r\n              </view>\r\n            </view>\r\n          </view>\r\n        </view>\r\n      </view>\r\n  \r\n      <!-- 功能区 -->\r\n      <view class=\"options-card\">\r\n        <view class=\"option-item\">\r\n          <text>添加标签</text>\r\n        </view>\r\n        <view class=\"option-item\">\r\n          <text>添加地点</text>\r\n        </view>\r\n      </view>\r\n  \r\n      <!-- 权限和定时 -->\r\n      <view class=\"options-card\">\r\n        <view class=\"option-item\">\r\n          <text>权限设置</text>\r\n          <picker mode=\"selector\" :range=\"permissionOptions\" @change=\"onPermissionChange\">\r\n            <text class=\"option-value\">{{ permissionText }}</text>\r\n          </picker>\r\n        </view>\r\n      </view>\r\n    </view>\r\n</template>\r\n  \r\n  \r\n<script>\r\nimport PubSub from 'pubsub-js';\r\n  export default {\r\n    data() {\r\n      return {\r\n        content: '',\r\n        mediaFiles: [], // 存储图片和视频\r\n        type: 0,\r\n        source_post:{},\r\n        permissionText: '所有人可见',\r\n        permissionOptions: ['所有人可见', '仅我可见'],\r\n        user:{\r\n          account_id: null,\r\n          username: '未登录',\r\n          avatar: '',\r\n          ip:'未知'\r\n        },\r\n        subtoken:null,\r\n        loading:false,\r\n      };\r\n    },\r\n    watch: {\r\n      loading(newVal, oldVal) {\r\n        if(newVal == true){\r\n          uni.showLoading({ title: '正在发布...' });\r\n        }\r\n      }\r\n    },\r\n    onLoad() {\r\n      this.subtoken=PubSub.subscribe('to_post', (msg, data) => {\r\n        this.user.account_id = data.account_id; \r\n        this.user.username = data.username;\r\n        this.user.avatar = data.avatar;\r\n        this.type = data.type;\r\n        if(data.share_post){\r\n          this.source_post = data.share_post;\r\n        }\r\n        console.log('to_post',this.source_post,this.user);\r\n      });\r\n    },\r\n    onUnload() {\r\n      if(this.subtoken) {\r\n        PubSub.unsubscribe(this.subtoken);\r\n        this.subtoken = null;\r\n      }\r\n    },\r\n    methods: {\r\n      // 选择媒体类型\r\n      showMediaPicker() {\r\n        uni.showActionSheet({\r\n          itemList: ['照片', '视频'],\r\n          success: (res) => {\r\n            if (res.tapIndex === 0) {\r\n              this.chooseImage();\r\n            } else if (res.tapIndex === 1) {\r\n              this.chooseVideo();\r\n            }\r\n          }\r\n        });\r\n      },\r\n      // 选择图片\r\n      chooseImage() {\r\n        uni.chooseImage({\r\n          count: 9 - this.mediaFiles.length,\r\n          sourceType: ['album', 'camera'],\r\n          success: (res) => {\r\n            res.tempFilePaths.forEach((filePath) => {\r\n              this.mediaFiles.push({\r\n                url: filePath,\r\n                type: 'image'\r\n              });\r\n            });\r\n          }\r\n        });\r\n      },\r\n      // 选择视频\r\n      chooseVideo() {\r\n        uni.chooseVideo({\r\n          count: 9 - this.mediaFiles.length,\r\n          sourceType: ['album', 'camera'],\r\n          duration: 30,\r\n          success: (res) => {\r\n            if (this.mediaFiles.length < 9) {\r\n              this.mediaFiles.push({\r\n                url: res.tempFilePath,\r\n                type: 'video'\r\n              });\r\n            } else {\r\n              uni.showToast({ title: '最多只能上传9个媒体文件', icon: 'none' });\r\n            }\r\n          }\r\n        });\r\n      },\r\n      // 预览媒体文件\r\n      previewMedia(media,index) {\r\n        uni.previewMedia({\r\n          sources: media.map((file) => ({ \r\n            url: file.url, \r\n            type: file.type \r\n          })),\r\n          current: index\r\n        });\r\n      },\r\n      // 删除媒体文件\r\n      removeMedia(index) {\r\n        this.mediaFiles.splice(index, 1); // 删除选中的媒体\r\n      },\r\n      // 改变权限\r\n      onPermissionChange(e) {\r\n        this.permissionText = this.permissionOptions[e.detail.value];\r\n      },\r\n      //获取用户ip地址\r\n      async getUserLocation() {\r\n        try {\r\n            const res = await uniCloud.callFunction({\r\n                name: 'get_ip',\r\n                data: {}\r\n            })\r\n            // console.log('res',res)\r\n            if(res.result.code === 200){\r\n              this.user.ip = res.result.data; // 设置用户的 IP 地址\r\n            }\r\n        }catch(e){\r\n            console.error('获取位置失败', e);\r\n        }\r\n      },\r\n      //解析ip地址\r\n      async resolve_ip(){\r\n          const host = \"https://ipcity.market.alicloudapi.com\";  // 请求地址 支持http 和 https 及 WEBSOCKET\r\n          const path = \"/ip/city/query\";   // 后缀\r\n          const appCode = \"1dc84a4fe7fc40238d1a17ad665c59d3\"; \r\n          // 构建查询参数\r\n          const querys = `ip=${encodeURIComponent(this.user.ip)}&coordsys=WGS84`;\r\n          const urlSend = `${host}${path}?${querys}`;   // 拼接完整请求链接\r\n            try {\r\n            const res = await uni.request({\r\n                          url: urlSend,\r\n                          method: 'GET',\r\n                          header: {\r\n                            \"Authorization\": `APPCODE ${appCode}`\r\n                          }\r\n                        });\r\n            if (res.statusCode === 200) {\r\n              if(res.data.code == 200){\r\n                let city;\r\n                if(res.data.data.result.city){\r\n                  city=res.data.data.result.city;\r\n                }\r\n                else if(res.data.data.result.prov){\r\n                  city=res.data.data.result.province;\r\n                }\r\n                else if(res.data.data.result.country){\r\n                  city=res.data.data.result.country;\r\n                }\r\n                else if(res.data.data.result.continuent){\r\n                  city=res.data.data.result.continent;\r\n                }\r\n                if(city.endsWith('市')){\r\n                  city=city.slice(0,-1)\r\n                }\r\n                else if(city.endsWith('省')){\r\n                  city=city.slice(0,-1)\r\n                }\r\n                this.user.ip = city; // 设置用户的 IP 地址\r\n                console.log('获取到的IP地址',this.user.ip)\r\n              }\r\n            }\r\n          } catch (err) {\r\n            console.error('resolve_ip 请求失败:', err);\r\n          }\r\n      },\r\n      //提交帖子\r\n      async submitPost(){\r\n        if(this.loading){\r\n          return;\r\n        }\r\n        if(!this.user.account_id){\r\n          uni.showToast({\r\n            title: '请登录',\r\n            icon: 'none'\r\n          });\r\n          return;\r\n        }\r\n        if (!this.content.trim() && this.mediaFiles.length === 0) {\r\n          uni.showToast({\r\n            title: '内容不能为空',\r\n            icon: 'none'\r\n          });\r\n          return;\r\n        } \r\n        this.loading = true;\r\n\r\n        if (this.mediaFiles.length) {\r\n          this.mediaFiles = await Promise.all(this.mediaFiles.map(async (file) => {\r\n            try {\r\n              const ext = file.url.split('.').pop().toLowerCase(); // 自动取原扩展名\r\n              const cloudPath = `Post/${this.user.account_id}-${this.user.username}-${Date.now()}-${Math.floor(Math.random() * 10000)}.${ext}`;\r\n              const res = await uniCloud.uploadFile({\r\n                filePath: file.url,\r\n                cloudPath,\r\n                fileType: file.type,\r\n                cloudPathAsRealPath: true,\r\n                onUploadProgress: (progress) => {\r\n                  var percentage = Math.round(progress.loaded * 100)/progress.total;\r\n                  uni.showLoading({ title: `上传中...${percentage}%` });\r\n                },\r\n                header:{\r\n                  'Cache-Control':'max-age=2592000'\r\n                }\r\n              });\r\n              return {\r\n                url: res.fileID, // 云端路径\r\n                type: file.type\r\n              };\r\n            } catch (e) {\r\n              console.error('文件上传失败', file.url, e);\r\n              return null; // 或抛出异常 / 提示用户\r\n            }\r\n          }));\r\n          // 过滤掉上传失败的\r\n          this.mediaFiles = this.mediaFiles.filter(item => item !== null);\r\n        }\r\n\r\n        //获取ip地址\r\n        await this.getUserLocation();\r\n        //解析ip地址\r\n        await this.resolve_ip();\r\n\r\n        try{\r\n          const res = await uniCloud.callFunction({\r\n            name: 'post',\r\n            data: {\r\n                user:this.user,\r\n                content: this.content,\r\n                media: this.mediaFiles,\r\n                post_type: this.type,\r\n                temp_source_post: this.source_post,\r\n                visibility: this.permissionText,\r\n                create_time: new Date().toISOString(),\r\n                ip: this.user.ip,\r\n                tags: [],\r\n                status: 1\r\n            }\r\n          });\r\n          \r\n          if(res.result.code === 200){\r\n              uni.showToast({\r\n                  title: '发布成功',\r\n                  icon: 'success'\r\n              });\r\n              PubSub.publish('return_index', res.result.data);\r\n              setTimeout(() => {\r\n                uni.navigateBack();\r\n                this.loading = false;\r\n              }, 500);\r\n          } \r\n          else if(res.result.code === 401){\r\n              uni.showToast({\r\n                  title: '请登录',\r\n                  icon: 'none'\r\n              });\r\n              this.loading = false;\r\n          }\r\n          else{\r\n              uni.showToast({\r\n                  title: '发布失败',\r\n                  icon: 'none'\r\n              });\r\n              this.loading = false;\r\n              console.log('发布失败',res.result);\r\n          }\r\n        }catch(e){\r\n          console.error('发布失败', e);\r\n          uni.showToast({\r\n            title: '发布失败',\r\n            icon: 'none'\r\n          });\r\n          this.loading = false;\r\n        }\r\n      },\r\n      //时间格式化函数\r\n      formatDate(date) {\r\n        date= new Date(date);\r\n        const pad = n => n.toString().padStart(2, '0');\r\n        const year = date.getFullYear();\r\n        const month = pad(date.getMonth() + 1);\r\n        const day = pad(date.getDate());\r\n        const hours = pad(date.getHours());\r\n        const minutes = pad(date.getMinutes());\r\n        return `${year}-${month}-${day} ${hours}:${minutes}`;\r\n      },\r\n    }\r\n  }\r\n</script>\r\n  \r\n<style scoped>\r\n@import url('post.css');\r\n</style>","import MiniProgramPage from 'D:/CODE/vue/canteen_program/pages/post/post.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni","PubSub","uniCloud"],"mappings":"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"}